@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Base surfaces - Verified HSL formatting matching previous colors */
    --background: 240 6% 10%;            /* #18181B - exact zinc-900 match */
    --card: 240 4% 14%;                  /* #212124 - standardized card background */
    --sidebar: 240 4% 14%;               /* #212124 - same as card for consistency */

    /* Borders & muted - Proper HSL values */
    --border: 240 3% 18%;                /* #2A2A2E - unified border color */
    --muted: 240 2% 23%;                 /* For subtle backgrounds */

    /* Text */
    --foreground: 0 0% 100%;             /* White text */
    --muted-foreground: 240 5% 64%;      /* Muted text color */

    /* Brand */
    --primary: 164 95% 34%;              /* Emerald brand color */
    --ring: 164 95% 34%;                 /* Focus ring color - KEEP VISIBLE */

    /* Existing shadcn tokens - keep as-is */
    --card-foreground: 0 0% 95%;
    --popover: 240 4% 14%;               /* Use same as card */
    --popover-foreground: 0 0% 95%;
    --primary-foreground: 0 0% 9%;
    --secondary: 240 4% 16%;
    --secondary-foreground: 0 0% 98%;
    --accent: 240 4% 16%;
    --accent-foreground: 0 0% 98%;
    --destructive: 0 62% 30%;
    --destructive-foreground: 0 0% 98%;
    --input: 240 4% 16%;
    --radius: 0.375rem;

    /* Sidebar using same semantic tokens */
    --sidebar-background: 240 4% 14%;    /* Same as --sidebar */
    --sidebar-foreground: 0 0% 95%;
    --sidebar-primary: 0 0% 98%;
    --sidebar-primary-foreground: 240 6% 10%;
    --sidebar-accent: 240 4% 16%;
    --sidebar-accent-foreground: 0 0% 98%;
    --sidebar-border: 240 3% 18%;        /* Same as --border */
    --sidebar-ring: 164 95% 34%;         /* Keep focus rings visible */
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans;
    font-feature-settings: "rlig" 1, "calt" 1;
    /* Force scrollbar to always be present to prevent layout shift */
    overflow-y: scroll;
  }

  /* Minimal sidebar hover states - no global ring overrides */
  [data-sidebar="menu-button"]:hover,
  [data-sidebar="menu-button"]:focus-visible {
    background-color: hsl(var(--sidebar-accent));
    color: hsl(var(--sidebar-accent-foreground));
  }

  /* Simple vertical separator - no gradients */
  .vertical-separator {
    width: 1px;
    background-color: hsl(var(--sidebar-border));
  }
}

/* Message timestamp styling - keep existing functionality */
.message-timestamp {
  opacity: 0;
  transition: opacity 0.2s ease-in-out;
  font-size: 0.75rem;
  margin-left: 8px;
  white-space: nowrap;
}

.message-timestamp.user-timestamp {
  color: rgba(20, 20, 22, 1);
}

.message-timestamp.assistant-timestamp {
  color: rgba(244, 244, 245, 0.6);
}

.message-bubble:hover .message-timestamp {
  opacity: 1;
}

/* Native time input theming */
.time-input::-webkit-calendar-picker-indicator {
  filter: invert(1) brightness(1.4);
  opacity: 0.9;
}
.time-input::-webkit-datetime-edit-hour-field,
.time-input::-webkit-datetime-edit-minute-field,
.time-input::-webkit-datetime-edit-ampm-field {
  color: rgb(244 244 245);
}
.time-input::-webkit-datetime-edit-ampm-field { 
  text-transform: uppercase; 
}
.time-input { 
  border-radius: 0.5rem; 
}